# ๐ก๏ธ ุงูุฎุงุฏู ุงููุณุชูุฑ - ุฏููู ุงูุงุณุชุฎุฏุงู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุฎุงุฏู ูุณุชูุฑ ูููุน ุงููุทุงุน ุงูุฎุฏูุฉ ููุนูุฏ ุชุดุบูู ุงูุฎุงุฏู ุชููุงุฆูุงู ุนูุฏ ุญุฏูุซ ุฃู ูุดุงูู.

## ๐ ููููุฉ ุงูุชุดุบูู

### 1. ุงูุชุดุบูู ุงูุนุงุฏู
```bash
npm run dev:api
```

### 2. ุงูุชุดุบูู ุงููุณุชูุฑ (ููุตู ุจู)
```bash
npm run api:stable
```

### 3. ุงูุชุดุบูู ุงููุงูู ูุน ุงููุงุฌูุฉ
```bash
npm run start:stable
```

## ๐ ุงููููุฒุงุช

### โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุชูุฏูุฉ
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุบูุฑ ุงููุนุงูุฌุฉ (Uncaught Exceptions)
- ูุนุงูุฌุฉ ุงูุฑูุถ ุบูุฑ ุงููุนุงูุฌ (Unhandled Rejections)
- ูุนุงูุฌุฉ ุฃุฎุทุงุก Express
- ูุนุงูุฌุฉ ุงูุทูุจุงุช ุบูุฑ ุงูููุฌูุฏุฉ (404)

### ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- ูุฑุงูุจุฉ ุงุณุชููุงู ุงูุฐุงูุฑุฉ ูู 30 ุซุงููุฉ
- ุชูุจููุงุช ุนูุฏ ุงุณุชููุงู ุฐุงูุฑุฉ ุนุงูู
- ุชูุธูู ุงูุฐุงูุฑุฉ ุงูุชููุงุฆู
- ูุฑุงูุจุฉ ููุช ุงูุชุดุบูู

### ๐ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู
- ุฅุนุงุฏุฉ ุชุดุบูู ุชููุงุฆู ุนูุฏ ุชููู ุงูุฎุงุฏู
- ุญุฏ ุฃูุตู 10 ูุญุงููุงุช ุฅุนุงุฏุฉ ุชุดุบูู
- ุชุฃุฎูุฑ 5 ุซูุงู ุจูู ุงููุญุงููุงุช
- ุฅุนุงุฏุฉ ุชุนููู ุงูุนุฏุงุฏ ูู ุณุงุนุฉ

### ๐ก๏ธ ุงูุฃูุงู ุงููุญุณู
- CORS ูุญุฏูุฏ ูููุถูููู ุงููุณููุญูู
- ูุนุงูุฌุฉ ุขููุฉ ููุฅุบูุงู
- ุชุณุฌูู ููุตู ููุฃุฎุทุงุก

## ๐ก ููุงุท ุงูููุงูุฉ ุงููุชุงุญุฉ

### ๐ ูุญุต ุตุญุฉ ุงูุฎุงุฏู
```
GET /api/health
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "data": {
    "status": "healthy",
    "timestamp": "2024-01-01T12:00:00.000Z",
    "uptime": "15 ุฏูููุฉ",
    "memory": {
      "used": "150MB",
      "heap": "80MB",
      "healthy": true
    },
    "database": {
      "connected": true,
      "status": "ูุชุตู"
    },
    "server": {
      "port": 3002,
      "environment": "development"
    }
  }
}
```

### ๐ ููุงุท ุงูููุงูุฉ ุงูุฃุฎุฑู
- `GET /api/conversations` - ูุงุฆูุฉ ุงููุญุงุฏุซุงุช
- `GET /api/messages/recent` - ุงูุฑุณุงุฆู ุงูุญุฏูุซุฉ
- `POST /api/send-message` - ุฅุฑุณุงู ุฑุณุงูุฉ
- `GET /api/companies/{id}/store` - ุฅุฏุงุฑุฉ ุงููุชุฌุฑ

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช

### ๐ ููู ุงูุฅุนุฏุงุฏุงุช
`src/config/server-config.ts`

### ๐ง ุงูุฅุนุฏุงุฏุงุช ุงููุชุงุญุฉ

#### ุงููุฑุงูุจุฉ
```typescript
MONITORING: {
  ENABLED: true,
  INTERVAL_MS: 30000, // 30 ุซุงููุฉ
  MEMORY_WARNING_MB: 300,
  MEMORY_CRITICAL_MB: 500
}
```

#### ุฅุนุงุฏุฉ ุงูุชุดุบูู
```typescript
RESTART: {
  MAX_ATTEMPTS: 10,
  DELAY_MS: 5000,
  RESET_INTERVAL_MS: 3600000 // ุณุงุนุฉ
}
```

#### ุงูุฃูุงู
```typescript
SECURITY: {
  CORS: {
    ORIGIN: ['http://localhost:8082', 'http://192.168.1.3:8082'],
    CREDENTIALS: true
  }
}
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### 1. ุงูุฎุงุฏู ูุง ูุจุฏุฃ
```bash
# ุชุญูู ูู ุงููููุฐ
netstat -an | findstr :3002

# ุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช
npm run dev:api
```

### 2. ุงููุทุงุน ูุชูุฑุฑ
```bash
# ุงุณุชุฎุฏู ุงูุฎุงุฏู ุงููุณุชูุฑ
npm run api:stable

# ุชุญูู ูู ุงูุณุฌูุงุช
# ุงุจุญุซ ุนู ุฑุณุงุฆู [MONITOR] ูู ุงููููุณูู
```

### 3. ูุดุงูู ุงูุฐุงูุฑุฉ
```bash
# ุชุดุบูู ูุน ุชูุธูู ุงูุฐุงูุฑุฉ
node --expose-gc scripts/start-server-stable.js
```

### 4. ูุดุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุชุญูู ูู ุงูุงุชุตุงู
curl http://localhost:3002/api/health
```

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### ๐ ุงูุณุฌูุงุช ุงููููุฉ
- `โ [SERVER] ุงูุฎุงุฏู ูุนูู ุจุดูู ูุณุชูุฑ` - ุงูุฎุงุฏู ูุนูู
- `๐ [MONITOR] ุชูุฑูุฑ ุตุญุฉ ุงูุฎุงุฏู` - ุชูุฑูุฑ ุงูุฃุฏุงุก
- `โ๏ธ [MONITOR] ุงุณุชููุงู ุฐุงูุฑุฉ ุนุงูู` - ุชุญุฐูุฑ ุงูุฐุงูุฑุฉ
- `๐ [MANAGER] ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู` - ุฅุนุงุฏุฉ ุงูุชุดุบูู

### ๐ ูุคุดุฑุงุช ุงูุฃุฏุงุก
- **ููุช ุงูุชุดุบูู**: ูุฌุจ ุฃู ูุฒูุฏ ุจุงุณุชูุฑุงุฑ
- **ุงุณุชููุงู ุงูุฐุงูุฑุฉ**: ูุฌุจ ุฃู ูููู ุฃูู ูู 500MB
- **ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ูุฌุจ ุฃู ุชููู "ูุชุตู"
- **ุนุฏุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู**: ูุฌุจ ุฃู ูููู 0 ุฃู ูููู

## ๐จ ุงูุชูุจููุงุช

### โ๏ธ ุชุญุฐูุฑุงุช ุงูุฐุงูุฑุฉ
- **300MB+**: ุชุญุฐูุฑ ุงุณุชููุงู ุนุงูู
- **500MB+**: ุงุณุชููุงู ุญุฑุฌ
- **90%+ Heap**: ุฐุงูุฑุฉ ููุชูุฆุฉ

### ๐ ุฅุนุงุฏุฉ ุงูุชุดุบูู
- **5 ูุญุงููุงุช**: ุชุญุฐูุฑ
- **10 ูุญุงููุงุช**: ุชููู ููุงุฆู
- **ูู ุณุงุนุฉ**: ุฅุนุงุฏุฉ ุชุนููู ุงูุนุฏุงุฏ

## ๐ ุงูุฏุนู

ุนูุฏ ุญุฏูุซ ูุดุงูู:
1. ุชุญูู ูู ุงูุณุฌูุงุช ูู ุงููููุณูู
2. ุงุณุชุฎุฏู `/api/health` ููุญุต ุงูุญุงูุฉ
3. ุฌุฑุจ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู ุงููุณุชูุฑ
4. ุชุญูู ูู ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
